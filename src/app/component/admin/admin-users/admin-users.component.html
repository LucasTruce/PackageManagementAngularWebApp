<div *ngIf="authService.isAdmin()" class="container">
  <div class="row justify-content-md-center">
    <app-navigation></app-navigation>

    <div class="col-md-8">
      <!--<button type="button" class="btn btn-primary" name="addUser" routerLink="/admin/users/addUser">Dodaj użytkownika</button>-->

      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Id</th>
            <th scope="col">Login</th>
            <th scope="col">Email</th>
            <th scope="col">Role</th>
            <th scope="col">Operacje</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users; index as i; | paginate: config">
            <th colspan="row">{{i + 1}}</th>
            <td>{{user.login}}</td>
            <td>{{user.email}}</td>
            <td *ngFor="let role of user.roles">{{role.name}}</td>
            <td>
              <button type="button" class="btn  btn-danger" name="deleteUser" (click)="deleteUser(user.id)">Usuń</button>
              <button type="button" class="btn  btn-info" name="userDeails" [routerLink]="['/admin/users/', user.id, 'userDetails']">Szczegóły</button>
              <button type="button" class="btn  btn-warning" name="editUser" [routerLink]="['/admin/users/', user.id]">Edytuj</button>
            </td>
          </tr>
        </tbody>
      </table>
      <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>

    </div>
  </div>
</div>
