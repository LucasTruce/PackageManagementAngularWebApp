<div *ngIf="authService.isAdmin()" class="container">
  <div class="row justify-content-md-center">
    <app-navigation></app-navigation>

    <div class="col-md-9">
      <button type="button" class="btn btn-primary" name="addUser" routerLink="/admin/users/addUser">Dodaj użytkownika</button>

      <table matSort (matSortChange)="sortUser($event)" class="table table-striped table-responsive">
        <thead>
          <tr>
            <th mat-sort-header="id">Id</th>
            <th mat-sort-header="login">Login</th>
            <th mat-sort-header="email">Email</th>
            <th>Role</th>
            <th>Operacje</th>
          </tr>
        </thead>
        <tbody>
        <tr *ngFor="let user of users | paginate: config; index as i">
          <td>{{user.id}}</td>
          <td>{{user.login}}</td>
          <td>{{user.email}}</td>
          <td>
              <div *ngFor="let role of user.roles">{{role.name}}
              </div>
          </td>
            <td>
              <button type="button" class="btn btn-sm btn-danger" name="deleteUser" (click)="deleteUser(user.id)">Usuń</button>
              <button type="button" class="btn btn-sm btn-info" name="userDeails" [routerLink]="['/admin/users/', user.id, 'userDetails']">Szczegóły</button>
              <button type="button" class="btn btn-sm btn-warning" name="editUser" [routerLink]="['/admin/users/', user.id]">Edytuj</button>
            </td>
        </tr>
       </tbody>
     </table>
     <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>

   </div>
 </div>
</div>
